<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>겔러리</title>
</head>
<body>
	<script>
var userInfo = [ { 'id' : 'aaa','name' : '홍길동', 'age' : 20 }, 
				{'id' : 'bbb', 'name' : '김개똥', 'age' : 30 }, 
				{'id' : 'ccc', 'name' : '고길동', 'age' : 40 } 
			];
const allUser = () => {
	let table = ""
	table += '<table border="1">'
	table += "<tr><th>아이디</th> <th>이름</th> <th>나이</th></tr>"
	for (i = 0; i < userInfo.length; i++) {
		table += "<tr>"
		table += `<td>${userInfo[i].id}</td> 
		<td onclick="info('${userInfo[i].id}')">${userInfo[i].name}</td>
		<td>${userInfo[i].age}</td>`;
		table += "</tr>"
	}
	table += "</table>"
	document.getElementById("table").innerHTML = table
}
const info = ( id ) => {
	const user = userInfo.filter( (member)=>
	(id === member.id)?member:"")[0];
	console.log( user );
	const msg = `<b>아이디</b> : ${user.id}<br>
		<b>이름</b> : ${user.name}<br>
		<b>나이</b> : ${user.age}<br>`
	document.getElementById("table").innerHTML = msg;
}
const getUser = () => {
	const u_id = document.getElementById("u_id").value
	let table = ""
	const user = userInfo.filter( (value,index)=>
						(u_id === value.id)?value : "" )[0]; 
	//아래의 console.log를 확인하면 user는 배열형태로 들어와서 0번째로 표현
	console.log(user);
	table += '<table border="1">'
	table += "<tr><th>아이디</th> <th>이름</th> <th>나이</th></tr>"
	table += "<tr>";
	table += `<td>${user.id}</td> 
	<td>${user.name} </td>
	<td>${user.age}</td>`;
	table += "</tr>";
	table += "</table>"
	document.getElementById("table").innerHTML = table
}
const userDelete = () => {
	const u_id = document.getElementById("del_id").value
	userInfo = userInfo.filter( (value, index) => {
		if(u_id !== value.id){
			return userInfo[index];
		}
	});
	allUser();
}
</script>
	<div id="table">목록을 보여 줍니다</div>
	<hr>
	<button type="button" onclick="allUser()">모든 회원 보기</button>
	<hr>
	<input type="text" id="u_id" placeholder="input id">
	<br>
	<button type="button" onclick="getUser()">특정 회원 조회</button>
	<hr>
	<input type="text" id="del_id" placeholder="input id">
	<br>
	<button type="button" onclick="userDelete()">특정 회원 삭제</button>
</body>
</html>
